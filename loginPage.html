<!DOCTYPE html>
<html lang = "en">

<head>

    <meta charset="utf-8">
    <title>JK Appointments</title>
    <link rel="stylesheet" href="Style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>

<body class="loginBody">
    <div class="mainLogin">
        <a href="LandingPage.html"><button class = "backButton">Back</button></a>
        <h3 class = loginHead-3>Enter your login credentials</h3>
        <form id="loginForm" onsubmit="{handleLogin}">
            <label class="loginLabel">
                  Username:
              </label>
            <input type="text"
                   id="username"
                   name="first"
                   placeholder="Enter your Username" 
                   onchange="{e=>setUserId(e.target.value)}"
                   required>
 
            <label class= "loginLabel" for="password">
                  Password:
              </label>
            <input type="password"
                   id="password"
                   name="password"
                   placeholder="Enter your Password" 
                   onchange="{e=>setUserId(e.target.value)}"
                   required>
 
            <div class="wrap">
                <button class = "loginButton" type="submit"
                        onclick="">
                    Submit
                </button>
            </div>
        </form>
    </div>
    <script>
        const[userId, setUserId]=useState('');
        const[password, setPassword]=useState('');
        
        function handleLogin(event){
        event.preventDefault();
        console.log('clicked');

        let userData = {
            userId:userId,
            password:password
        }

        fetch("/api/login", {
            method: "post",
            headers: {
            "Content-Type": "application/json"
            },
            body: JSON.stringify(userData)

        }).then(response=>response.json()).then(data=>{
            console.log(data);
        })
    };
    </script>
</body>
</html>